<!DOCTYPE html>
<html lang="en">
<head>
     <link rel="stylesheet" href="./scss/custom.scss"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/semantic.min.css"/>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/bootstrap.min.css"/>



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.rtl.min.css"/>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.rtl.min.css"/>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/semantic.rtl.min.css"/>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/bootstrap.rtl.min.css"/>



    <style>
        body{
  background: url(http://wrbbradio.org/wp-content/uploads/2016/10/grey-background-07.jpg) no-repeat center fixed;
  background-size: cover;
   
}
        div.ex1{
            /* margin-top: 100px; */
            margin-bottom: 100px;
            margin-right: 100px;
            margin-left: 100px;
             
        }
        a:link, a:visited {
  color: black;
  text-align: center;
  text-decoration: none;
  display: inline-block;
}

a:hover, a:active {
  color:ed;
}
.Register{
    margin-left: 490px;
    margin-bottom: 15px;
}
.TableColour{
    background-color: rgb(255, 102, 0);
}

      
    </style>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML HERE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <!-- <%registerlist.forEach((abdullahadd)=>{%>
        <p><%= abdullahadd.firstName %></p>
        <%})%> -->
        <%- include('common/NavBar'); -%>
        <br>
        <br>
        <div class="ex1" >
          <div class="Register">
              <h1 style="color:rgb(72, 72, 72) ;"><b>Users Table</b></h1>
          </div>


        <table class="table" style="border:5px solid  rgb(255, 102, 0);" >
            <thead>
              <tr class="TableColour" class="table-secondary"class="table-secondary">
                <th scope="col">Id</th>
                <th scope="col">Image</th>
                <th scope="col">firstName</th>
                <th scope="col">LastName</th>
                <th scope="col">Email</th>
                <th scope="col">Delete</th>
                <th scope="col">Update</th>
               
                
              </tr>
            </thead>
            <tbody>
                <%registerlist.forEach((abdullahadd)=>{%>
                    <tr class="table-secondary" >
                        <th scope="row"><%= abdullahadd._id %></th>
                        <td>IMAGE</td>
                        <td><%= abdullahadd.firstName %></td>
                        <td><%= abdullahadd.lastName %></td>
                        <td><%= abdullahadd.Email %></td>
                        <td><button style="color: black;border-radius: 10px;" type="button" class="btn btn-danger" class="button1" onclick="myfunction('<%=abdullahadd._id%>')" > <b>Delete</b></button></td>
                        <td><button style="border-radius: 10px;" type="button" class="btn btn-primary" class="button2"> <a href='/edit/<%=abdullahadd._id%>'class="link-dark"><b>UPDATE</b> </a></button></td>
                    </tr>
                <%})%>
            </tbody>
          </table>
        </div>

          <script src="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
          <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script>
            function myfunction(id){
                           alertify.confirm('Are you sure you want to delete this item?', function(){
           
                            fetch('http://localhost:3000/delete/'+id,{
    method:'DELETE'
}).then(response=>{
    // console.log("aaaa");
    // alertify.success('Ok')
    window.location = "http://localhost:3000/";
}).then(data=> {

}
);
           //
        },()=>{
            alertify.confirm().close(); 
        });
            }    
        </script>
</body>
</html>